(this["webpackJsonpfile-uploader-react-gcloud-storage"]=this["webpackJsonpfile-uploader-react-gcloud-storage"]||[]).push([[0],{16:function(e,t,a){e.exports=a(40)},21:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(13),r=a.n(c),s=(a(21),a(3)),o=a.n(s),u=a(14),i=a(2),m=a(15),p=a.n(m),f=function(){return l.a.createElement("svg",{className:"spinner",width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"}))},d=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(i.a)(r,2),m=s[0],d=s[1],b=Object(n.useState)(null),E=Object(i.a)(b,2),g=E[0],h=E[1],O=Object(n.useState)(!0),j=Object(i.a)(O,2),S=j[0],v=j[1],w=Object(n.useState)(!1),N=Object(i.a)(w,2),x=N[0],y=N[1],k=Object(n.useState)(!1),D=Object(i.a)(k,2),F=D[0],L=D[1],C=Object(n.useState)(!1),T=Object(i.a)(C,2),B=T[0],I=T[1],J=Object(n.useState)("Select your file first"),P=Object(i.a)(J,2),U=P[0],W=P[1],M=Object(n.useState)(""),R=Object(i.a)(M,2),q=(R[0],R[1]),z=Object(n.useState)(""),A=Object(i.a)(z,2),G=A[0],H=A[1];Object(n.useEffect)((function(){}),[a]);var K=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,l,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!0),v(!0),W("Wait we're uploading your file..."),e.prev=4,""===a){e.next=18;break}for(n=new FormData,l=0;l<a.length;l++)n.append("image",a[l],"".concat(Date.now()).concat(a[l].name));return console.log("fileDa",n),e.next=11,p()({method:"post",url:"http://localhost:8080/api/upload",data:n,headers:{"Content-Type":"multipart/form-data"}});case 11:r=e.sent,console.log("RESPONSE-------\x3e",r.data.fileLocation),q(r.data.fileName),H(r.data.fileLocation),y(!1),I(!0),setTimeout((function(){c(null),h(null),I(!1),d(null),W("Select your file first")}),3e3);case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(4),y(!1),L(!0),d(null),setTimeout((function(){L(!1),W("Select your file first")}),3e3);case 26:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"app"},l.a.createElement("header",{className:"title"},l.a.createElement("h1",null,"Upload a file to Firebase Cloud Storage")),l.a.createElement("main",null,l.a.createElement("form",{onSubmit:function(e){return K(e)}},l.a.createElement("label",{className:"uploader"},l.a.createElement("div",{className:"upload-space"},x?l.a.createElement(f,null):l.a.createElement(l.a.Fragment,null,F||B?l.a.createElement("i",{className:"icon-".concat(B?"success":"error")}):l.a.createElement(l.a.Fragment,null,g?l.a.createElement("div",{className:"preview"},l.a.createElement("img",{src:g,alt:"Preview of the file to be uploaded"})):l.a.createElement("i",{className:"icon-upload"}),l.a.createElement("input",{type:"file",multiple:"multiple",onChange:function(e){e.target.files&&(c(e.target.files),v(!1),W("Let's upload this!"))}})))),F||B?l.a.createElement("p",{className:B?"success":"error"},B?"Upload successful!":"Something went wrong ..."):l.a.createElement("p",{className:"filename"},m||"No file selected yet")),l.a.createElement("button",{type:"submit",className:"btn",disabled:S,tabIndex:0},U))),G)};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(d,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.3a2e5cec.chunk.js.map